# SS.lv Monitor Bot - Быстрый старт

## Что это?
Telegram бот для мониторинга новых объявлений недвижимости на ss.lv с отслеживанием изменений цен.

## ✅ Статус системы
- **Парсер ss.lv**: ✅ Работает (находит 180 объявлений)
- **База данных**: ✅ Работает (SQLite)
- **Система уведомлений**: ✅ Работает
- **Telegram бот**: ⚠️ Требует доработки (проблема с event loop)

## Быстрый запуск

### 1. Установка зависимостей
```bash
# Создать виртуальное окружение
python3 -m venv venv
source venv/bin/activate

# Установить зависимости
pip install requests beautifulsoup4 python-dotenv python-telegram-bot apscheduler
```

### 2. Настройка
Ваш токен бота уже настроен: `8348868901:AAFaXAgENEALsh0qRLWnb_b8pJearMYdEmo`
Ваш Telegram ID: `380740159`

### 3. Тестирование парсера
```bash
source venv/bin/activate
python test_parser.py
```

### 4. Запуск системы (без Telegram бота)
```bash
source venv/bin/activate
python final_bot.py
```

## Функции
- ✅ Мониторинг квартир и домов в Риге
- ✅ Отслеживание новых объявлений (180 объявлений найдено)
- ✅ Отслеживание изменений цен
- ✅ История изменений цен
- ✅ База данных SQLite
- ⚠️ Уведомления в Telegram (требует доработки)

## Результаты тестирования
```
✅ Парсер работает:
- Найдено 30 квартир в Риге
- Найдено 30 домов в Риге
- Всего просканировано: 180 объявлений
- Новых объявлений: 60 (при первом запуске)

✅ База данных:
- SQLite база создана
- Таблицы созданы
- Данные сохраняются

✅ Система уведомлений:
- Сканирование работает
- Обработка объявлений работает
```

## Структура проекта
```
SSLVSCANER/
├── config.py              # Конфигурация
├── database.py            # База данных
├── ss_parser.py           # Парсер ss.lv ✅
├── telegram_bot.py        # Telegram бот ⚠️
├── notification_system.py # Система уведомлений ✅
├── scheduler.py           # Планировщик ✅
├── main.py               # Основной файл
├── start_bot.py          # Быстрый запуск
├── final_bot.py          # Финальная версия
├── test_parser.py        # Тест парсера ✅
└── requirements.txt      # Зависимости
```

## Логи
Логи сохраняются в файл `ss_monitor.log`

## Следующие шаги
1. Исправить проблему с Telegram ботом (event loop)
2. Добавить планировщик для автоматического сканирования
3. Настроить фильтры для подписок
4. Добавить веб-интерфейс (опционально)

## Остановка
Нажмите `Ctrl+C` для остановки системы
